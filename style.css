:root {
    --background: 240 10% 99%; /* bg-gray-50 */
    --foreground: 240 10% 3.9%; /* text-gray-800 */
    --card: 0 0% 100%;
    --primary: 262 84% 58%; /* indigo-600 */
    --primary-foreground: 0 0% 100%;
    --border: 240 5.9% 90%;
    --primaryT: hsla(262, 84%, 58%, 0.5);
    --transDur: 0.3s;
}

.dark {
    --background: 240 10% 3.9%;
    --foreground: 240 5% 95%;
    --card: 240 5% 10%;
    --primary: 262 84% 68%;
    --primary-foreground: 240 10% 3.9%;
    --border: 240 3.7% 15.9%;
    --primaryT: hsla(262, 84%, 68%, 0.5);
}

body {
    font-family: 'Sarabun', sans-serif;
    -webkit-tap-highlight-color: transparent;
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
}
.dark body {
    background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%239C92AC' fill-opacity='0.07'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
}
.sidebar { transition: width 0.3s ease-in-out, transform 0.3s ease-in-out; }
main { transition: margin-left 0.3s ease-in-out; }
.modal-backdrop { transition: opacity 0.3s ease-in-out; }
.modal-content { transition: transform 0.3s ease-in-out, opacity 0.3s ease-in-out; }

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}
.fade-in-start { opacity: 0; }
.app-fade-in { animation: fadeIn 0.5s ease-out forwards; }

.toast { animation: fade-in-out 3s forwards; }
@keyframes fade-in-out {
    0% { opacity: 0; transform: translateY(20px); }
    10% { opacity: 1; transform: translateY(0); }
    90% { opacity: 1; transform: translateY(0); }
    100% { opacity: 0; transform: translateY(20px); }
}

.card {
    background-color: hsl(var(--card));
    border: 1px solid hsl(var(--border));
    transition: all 0.3s ease-in-out;
}
.card:hover {
    transform: translateY(-5px);
    box-shadow: 0 10px 15px -3px rgba(0,0,0,0.07), 0 4px 6px -2px rgba(0,0,0,0.05);
}
.dark .card:hover {
    box-shadow: 0 10px 15px -3px rgba(0,0,0,0.2), 0 4px 6px -2px rgba(0,0,0,0.15);
}

.auth-glow::before {
    content: '';
    position: absolute;
    inset: 0;
    transform: translate(0, 20px) scale(0.9);
    filter: blur(40px);
    background: radial-gradient(hsl(var(--primary)), transparent 60%);
    z-index: -1;
    opacity: 0.5;
    transition: opacity 0.3s ease;
}

.bg-primary-gradient {
    background-image: linear-gradient(to right, hsl(var(--primary) / 0.9), hsl(var(--primary) / 1));
}

.nav-link { transition: all 0.2s ease-in-out; }
.nav-link:not(.font-semibold):hover {
    background-color: hsl(var(--primary) / 0.05);
    color: hsl(var(--primary));
    transform: translateX(4px);
}
.sidebar-collapsed .nav-link:not(.font-semibold):hover {
    transform: translateX(0);
}

::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: hsl(var(--border)); }
::-webkit-scrollbar-thumb { background: hsl(var(--primary) / 0.5); border-radius: 10px; }
::-webkit-scrollbar-thumb:hover { background: hsl(var(--primary) / 0.7); }

.bg-primary-gradient {
    background-image: linear-gradient(to bottom right, #4f46e5, #7c3aed);
}
.dark .bg-primary-gradient {
    background-image: linear-gradient(to bottom right, #6366f1, #a78bfa);
}

input, select, textarea, button.border-default {
    background-color: hsl(var(--background));
    border-color: hsl(var(--border));
}
input:focus, select:focus, textarea:focus, button.border-default:focus {
    --tw-ring-color: hsl(var(--primary));
}
[data-lucide] {
    stroke-width: 2;
}

/* Theme Toggle Switch */
.theme {
    font-size: 14px; /* Base size for scaling */
    display: flex;
    align-items: center;
    -webkit-tap-highlight-color: transparent;
}
.theme__fill, .theme__icon { transition: 0.3s; }
.theme__icon, .theme__toggle { z-index: 1; }
.theme__icon, .theme__icon-part { position: absolute; }
.theme__icon {
    display: block;
    top: 0.45em;
    left: 0.45em;
    width: 1.5em;
    height: 1.5em;
}
.theme__icon-part {
    border-radius: 50%;
    box-shadow: 0.4em -0.4em 0 0.5em hsl(0,0%,100%) inset;
    top: calc(50% - 0.5em);
    left: calc(50% - 0.5em);
    width: 1em;
    height: 1em;
    transition: box-shadow var(--transDur) ease-in-out, opacity var(--transDur) ease-in-out, transform var(--transDur) ease-in-out;
    transform: scale(0.5);
}
.theme__icon-part ~ .theme__icon-part {
    background-color: hsl(0,0%,100%);
    border-radius: 0.05em;
    top: 50%;
    left: calc(50% - 0.05em);
    transform: rotate(0deg) translateY(0.5em);
    transform-origin: 50% 0;
    width: 0.1em;
    height: 0.2em;
}
.theme__icon-part:nth-child(3) { transform: rotate(45deg) translateY(0.45em); }
.theme__icon-part:nth-child(4) { transform: rotate(90deg) translateY(0.45em); }
.theme__icon-part:nth-child(5) { transform: rotate(135deg) translateY(0.45em); }
.theme__icon-part:nth-child(6) { transform: rotate(180deg) translateY(0.45em); }
.theme__icon-part:nth-child(7) { transform: rotate(225deg) translateY(0.45em); }
.theme__icon-part:nth-child(8) { transform: rotate(270deg) translateY(0.5em); }
.theme__icon-part:nth-child(9) { transform: rotate(315deg) translateY(0.5em); }
.theme__toggle, .theme__toggle:before { display: block; }
.theme__toggle {
    background-color: hsl(48,90%,85%);
    border-radius: 25% / 50%;
    box-shadow: 0 0 0 0.125em var(--primaryT);
    padding: 0.2em;
    width: 4.8em; /* Scaled down from 6em */
    height: 2.4em; /* Scaled down from 3em */
    -webkit-appearance: none;
    appearance: none;
    transition: background-color var(--transDur) ease-in-out, box-shadow 0.15s ease-in-out, transform var(--transDur) ease-in-out;
}
.theme__toggle:before {
    background-color: hsl(48,90%,55%);
    border-radius: 50%;
    content: "";
    width: 2em; /* Scaled down from 2.5em */
    height: 2em; /* Scaled down from 2.5em */
    transition: 0.3s;
}
.theme__toggle:focus { box-shadow: 0 0 0 0.125em var(--primary); outline: transparent; }
.theme__toggle:checked { background-color: hsl(198,90%,15%); }
.theme__toggle:checked:before, .theme__toggle:checked ~ .theme__icon { transform: translateX(2.4em); } /* Scaled down from 3em */
.theme__toggle:checked:before { background-color: hsl(198,90%,55%); }

.theme__toggle:checked ~ .theme__icon .theme__icon-part:nth-child(1) {
    box-shadow: 0.25em -0.25em 0 0 hsl(0,0%,100%) inset;
    transform: scale(1);
    top: calc(50% - 0.5em);
    left: calc(50% - 0.5em);
}
.theme__toggle:checked ~ .theme__icon .theme__icon-part ~ .theme__icon-part { opacity: 0; }
.theme__toggle-wrap { margin: 0 0.75em; position: relative; }
@supports selector(:focus-visible) {
    .theme__toggle:focus { box-shadow: 0 0 0 0.125em var(--primaryT); }
    .theme__toggle:focus-visible { box-shadow: 0 0 0 0.125em var(--primary); }
}

/* Wheel Picker Styles */
.picker-container {
    -webkit-mask-image: linear-gradient(to bottom, transparent, black 25%, black 75%, transparent);
    mask-image: linear-gradient(to bottom, transparent, black 25%, black 75%, transparent);
    position: relative;
}
.picker-container::before,
.picker-container::after {
    content: '';
    position: absolute;
    left: 0;
    right: 0;
    height: 1px;
    background-color: hsl(var(--border));
}
.picker-container::before {
    top: calc(50% - 20px); /* item-height / 2 */
}
.picker-container::after {
    bottom: calc(50% - 20px); /* item-height / 2 */
}
.picker-viewport {
    height: 100%;
    overflow: hidden;
    position: relative;
    width: 50%;
    touch-action: none; /* Prevent page scroll while dragging wheel */
}
.picker-wheel {
    position: absolute;
    width: 100%;
    left: 0;
    transition: transform 0.2s ease-out;
}
.picker-item {
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: grab;
    user-select: none;
    opacity: 0.5;
    transform: scale(0.9);
    transition: opacity 0.2s, transform 0.2s;
}
.picker-item.selected {
    opacity: 1;
    transform: scale(1);
    color: hsl(var(--primary));
    font-weight: 600;
}